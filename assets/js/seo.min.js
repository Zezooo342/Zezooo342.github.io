(function(){'use strict';function ensureMeta(name,content){let m=document.querySelector('meta[name="'+name+'"]');if(!m){m=document.createElement('meta');m.setAttribute('name',name);document.head.appendChild(m)}if(content&&!m.getAttribute('content'))m.setAttribute('content',content)}function ensureOg(p,content){let s=document.querySelector('meta[property="'+p+'"]');if(!s){s=document.createElement('meta');s.setAttribute('property',p);document.head.appendChild(s)}if(content&&!s.getAttribute('content'))s.setAttribute('content',content)}function ensureCanonical(){let c=document.querySelector('link[rel="canonical"]');if(!c){c=document.createElement('link');c.setAttribute('rel','canonical');document.head.appendChild(c)}if(!c.getAttribute('href')){var href=window.location.origin+window.location.pathname;c.setAttribute('href',href)}}function adjustCanonicalForDuplicates(){try{fetch('/duplicate_report.json').then(function(r){if(!r.ok)return null;return r.json()}).then(function(data){if(!data||!Array.isArray(data))return;var path=window.location.pathname.replace(/^\//,'');data.forEach(function(pair){if(!pair||!pair.a||!pair.b)return;var current=path;var a=pair.a.replace(/^\//,'');var b=pair.b.replace(/^\//,'');if(current===b){var link=document.querySelector('link[rel="canonical"]');if(!link){link=document.createElement('link');link.setAttribute('rel','canonical');document.head.appendChild(link)}link.setAttribute('href',window.location.origin+'/'+a)}})})}catch(e){}}function articleJsonLd(){var title=document.title||'دليل المال العربي';var desc=(document.querySelector('meta[name="description"]')||{}).content||'محتوى مالي عربي تعليمي واحترافي.';var img=(document.querySelector('meta[property="og:image"]')||{}).content||'https://zezooo342.github.io/assets/images/og-default.png';var ld=document.querySelector('script[type="application/ld+json"][data-auto]');if(ld)return;var data={"@context":"https://schema.org","@type":"WebPage","name":title,"description":desc,"inLanguage":"ar","isFamilyFriendly":true,"publisher":{"@type":"Organization","name":"دليل المال العربي","url":"https://zezooo342.github.io","logo":{"@type":"ImageObject","url":"https://zezooo342.github.io/assets/images/og-default.png"}},"image":img,"dateModified":new Date(document.lastModified||Date.now()).toISOString()};if(document.querySelector('article,[data-ld-article]')){data['@type']='Article';data.headline=title;data.author={"@type":"Organization","name":"فريق دليل المال العربي"};data.datePublished=(document.querySelector('time[datetime]')||{}).dateTime||new Date().toISOString()}var s=document.createElement('script');s.type='application/ld+json';s.setAttribute('data-auto','true');s.textContent=JSON.stringify(data);document.head.appendChild(s)}function policyLinks(){var footer=document.getElementById('site-footer')||document.querySelector('footer');if(!footer)return;var ul=footer.querySelector('ul');if(!ul){ul=document.createElement('ul');footer.appendChild(ul)}function addLink(href,text){if(footer.querySelector('a[href="'+href+'"]'))return;var li=document.createElement('li');var a=document.createElement('a');a.href=href;a.textContent=text;li.appendChild(a);ul.appendChild(li)}addLink('privacy.html','سياسة الخصوصية');addLink('terms.html','شروط الاستخدام');addLink('disclaimer.html','إخلاء المسؤولية');addLink('sitemap.xml','خريطة الموقع')}function performance(){document.querySelectorAll('img:not([loading])').forEach(function(img){img.setAttribute('loading','lazy');img.setAttribute('decoding','async')});document.querySelectorAll('iframe:not([loading])').forEach(function(el){el.setAttribute('loading','lazy')})}function init(){ensureMeta('charset','utf-8');ensureMeta('viewport','width=device-width,initial-scale=1');ensureMeta('theme-color','#0c7954');ensureMeta('description',document.querySelector('meta[name="description"]')?undefined:'محتوى مالي عربي تعليمي واحترافي.');ensureOg('og:image','https://zezooo342.github.io/assets/images/og-default.png');ensureCanonical();adjustCanonicalForDuplicates();articleJsonLd();policyLinks();performance()}if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',init)}else{init()}})();